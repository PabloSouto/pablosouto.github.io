<!DOCTYPE html>
<html>
  <head>
	<!-- Firebase App (el núcleo de Firebase SDK) se carga siempre antes que cualquier otro SDK de Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app.js"></script>

<!-- Agrega aquí los SDK adicionales que necesites -->

<!-- Inicializa Firebase -->
<script>
  var firebaseConfig = {
    apiKey: "TU_API_KEY",
    authDomain: "TU_AUTH_DOMAIN",
    projectId: "TU_PROJECT_ID",
    storageBucket: "TU_STORAGE_BUCKET",
    messagingSenderId: "TU_MESSAGING_SENDER_ID",
    appId: "TU_APP_ID"
  };
  // Inicializa Firebase
  firebase.initializeApp(firebaseConfig);
</script>

    <script src="https://www.gstatic.com/firebasejs/9.6.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.2/firebase-database.js"></script>
    <script>
      // Inicializar Firebase con tus credenciales
      const firebaseConfig = {
        apiKey: "API_KEY",
        authDomain: "PROJECT_ID.firebaseapp.com",
        databaseURL: "https://PROJECT_ID-default-rtdb.firebaseio.com",
        storageBucket: "PROJECT_ID.appspot.com",
        messagingSenderId: "SENDER_ID",
        appId: "APP_ID",
        measurementId: "G-MEASUREMENT_ID",
      };
      firebase.initializeApp(firebaseConfig);
      
      // Registrar a los usuarios
      function registrar() {
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;
        
        firebase.auth().createUserWithEmailAndPassword(email, password)
          .then((userCredential) => {
            // Guardar los datos del usuario en la base de datos
            const userId = userCredential.user.uid;
            const email = userCredential.user.email;
            firebase.database().ref('usuarios/' + userId).set({
              email: email,
              registrado_en: Date.now()
            });
            
            // Redirigir a la página principal
            window.location.href = "index.html";
          })
          .catch((error) => {
            const errorCode = error.code;
            const errorMessage = error.message;
            alert("Error: " + errorMessage);
          });
      }
    </script>
  </head>
  <body>
    <h1>Registro de usuarios</h1>
    <form>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email"><br><br>
      
      <label for="password">Contraseña:</label>
      <input type="password" id="password" name="password"><br><br>
      
      <button type="button" onclick="registrar()">Registrarse</button>
    </form>
  </body>
</html>
