<!DOCTYPE html>
<html>
<head>
	<title>Miniaturas de Videos</title>
</head>
<body>
	<h1>Mis Videos Favoritos</h1>
	<ul id="videos"></ul>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script>
		$(document).ready(function() {
			var username = prompt("Introduce tu nombre de usuario:");
			var password = prompt("Introduce tu contraseña:");

			$.ajax({
				url: "pass.txt",
				dataType: "text",
				success: function(data) {
					var lines = data.split('\n');
					var authorized = false;

					for (var i = 0; i < lines.length; i++) {
						var line = lines[i].split(':');
						var storedUsername = line[0].trim();
						var storedPassword = line[1].trim();

						if (storedUsername === username && storedPassword === password) {
							authorized = true;
							break;
						}
					}

					if (authorized) {
						var playlistId = 'T03jb-pXNN4';
						var apiKey = 'AIzaSyALn9x1hcL31xvxwb2vUOObbNO5VoS1BjI';
						var url = 'https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId=' + playlistId + '&key=' + apiKey;

						$.getJSON(url, function(data) {
							var items = data.items;
							$.each(items, function(index, item) {
								var videoId = item.snippet.resourceId.videoId;
								var title = item.snippet.title;
								var thumbnail = item.snippet.thumbnails.medium.url;
								var videoUrl = 'https://www.youtube.com/watch?v=' + videoId;

								$('#videos').append('<li><a href="' + videoUrl + '"><img src="' + thumbnail + '" alt="' + title + '"/><br/>' + title + '</a></li>');
							});
						});
					} else {
						alert("Nombre de usuario o contraseña incorrectos. Acceso denegado.");
						window.location.href = "about:blank";
					}
				},
				error: function() {
					alert("No se pudo cargar el archivo de contraseñas.");
					window.location.href = "about:blank";
				}
			});
		});
	</script>
</body>
</html>